{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\r\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\r\n\r\nfunction generateMarkup(images) {\r\n    return images\r\n        .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads })  => {\r\n        \r\n        return `\r\n        <li class=\"photo-card\">\r\n    <a href=\"${largeImageURL}\">\r\n    <img class=\"photo-card-img\"\r\n    src=\"${webformatURL}\"\r\n    alt=\"${tags}\"\r\n    />\r\n</a>\r\n<div class=\"info\">\r\n        <p class=\"info-item\">\r\n            <span>Likes</span>\r\n            ${likes}\r\n        </p>\r\n        <p class=\"info-item\">\r\n            <span>Views</span>\r\n            ${views}\r\n        </p>\r\n        <p class=\"info-item\">\r\n            <span>Comments</span>\r\n            ${likes}\r\n        </p>\r\n        <p class=\"info-item\">\r\n            <span>Downloads</span>\r\n            ${downloads}\r\n        </p>\r\n    </div>\r\n</li>\r\n`;             \r\n        })\r\n    .join(\"\");\r\n}\r\n\r\n\r\nfunction renderImagesingallery(galleryMarkup, container) {\r\n    container.insertAdjacentHTML('beforeend', galleryMarkup);\r\n    let gallery = new SimpleLightbox('.gallery a', {\r\n            caption: true,\r\n            captionsData: 'alt',\r\n            captionPosition: 'bottom',\r\n            captionDelay: 250,\r\n    });\r\n\r\n    gallery.refresh()\r\n    gallery.on('show.simplelightbox');\r\n}\r\n\r\n\r\nexport {generateMarkup, renderImagesingallery};","const API_KEY = \"46939525-73ecae044838d7dfbbfadb664\";\r\nconst BASE_URL = \"https://pixabay.com/api/\"\r\n\r\nfunction fetchData(key_word) {\r\n    const params = new URLSearchParams({\r\n        key: API_KEY,\r\n        q: key_word,\r\n        image_type: \"photo\",\r\n        orientation: \"horizontal\",\r\n        safesearch: true\r\n    })\r\n\r\n    return fetch(`${BASE_URL}?${params}`)\r\n        .then(response => {\r\n            if(!response.ok) {\r\n                throw new Error(response.statusText)\r\n            }\r\n            return response.json();\r\n        })\r\n}\r\n\r\nexport default fetchData;","import { generateMarkup, renderImagesingallery } from \"./js/render-functions\";\r\nimport fetchData from \"./js/pixabay-api\";\r\nimport iziToast from \"izitoast\";\r\nimport \"izitoast/dist/css/iziToast.min.css\";\r\n\r\nconst input = document.querySelector(\".search-field\");\r\nconst button = document.querySelector(\"button\");\r\nconst galleryContainer = document.querySelector('.gallery');\r\nconst loaderIconContainer = document.querySelector('.loader-icon-container')\r\n\r\nbutton.addEventListener(\"click\", handleClick);\r\n\r\n\r\nfunction handleClick(event) {\r\n    event.preventDefault();\r\n    //reset gallery\r\n    galleryContainer.innerHTML = '';\r\n    loaderIconContainer.classList.toggle('loader');\r\n    const search_word = input.value.trim();\r\n\r\n    fetchData(search_word)\r\n        .then((data) => {\r\n            const images_arr = data.hits;\r\n            if (images_arr === 0) {\r\n                iziToast.error({\r\n                message: `\"Sorry, there are no images matching your search query. Please try again!\"`,\r\n            position: \"topRight\"\r\n                })\r\n            } else {\r\n                const gallery_markup = generateMarkup(data.hits);\r\n                renderImagesingallery(gallery_markup, galleryContainer);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            iziToast.error({\r\n                message: error.message,\r\n                position: \"topRight\"\r\n            });\r\n        })\r\n        .finally(() => { \r\n            loaderIconContainer.classList.toggle('loader');\r\n            input.value = '';\r\n        })\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["generateMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderImagesingallery","galleryMarkup","container","gallery","SimpleLightbox","API_KEY","BASE_URL","fetchData","key_word","params","response","input","button","galleryContainer","loaderIconContainer","handleClick","event","search_word","data","iziToast","gallery_markup","error"],"mappings":"wvBAGA,SAASA,EAAeC,EAAQ,CAC5B,OAAOA,EACF,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAE5D;AAAA;AAAA,eAEAL,CAAa;AAAA;AAAA,WAEjBD,CAAY;AAAA,WACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAMDC,CAAK;AAAA;AAAA;AAAA;AAAA,cAILC,CAAK;AAAA;AAAA;AAAA;AAAA,cAILD,CAAK;AAAA;AAAA;AAAA;AAAA,cAILG,CAAS;AAAA;AAAA;AAAA;AAAA,CAKd,EACJ,KAAK,EAAE,CACZ,CAGA,SAASC,EAAsBC,EAAeC,EAAW,CACrDA,EAAU,mBAAmB,YAAaD,CAAa,EACvD,IAAIE,EAAU,IAAIC,EAAe,aAAc,CACvC,QAAS,GACT,aAAc,MACd,gBAAiB,SACjB,aAAc,GAC1B,CAAK,EAEDD,EAAQ,QAAS,EACjBA,EAAQ,GAAG,qBAAqB,CACpC,CCnDA,MAAME,EAAU,qCACVC,EAAW,2BAEjB,SAASC,EAAUC,EAAU,CACzB,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAM,EAAE,EAC/B,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCdA,MAAMC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAS,SAAS,cAAc,QAAQ,EACxCC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAsB,SAAS,cAAc,wBAAwB,EAE3EF,EAAO,iBAAiB,QAASG,CAAW,EAG5C,SAASA,EAAYC,EAAO,CACxBA,EAAM,eAAc,EAEpBH,EAAiB,UAAY,GAC7BC,EAAoB,UAAU,OAAO,QAAQ,EAC7C,MAAMG,EAAcN,EAAM,MAAM,KAAI,EAEpCJ,EAAUU,CAAW,EAChB,KAAMC,GAAS,CAEZ,GADmBA,EAAK,OACL,EACfC,EAAS,MAAM,CACf,QAAS,6EACb,SAAU,UACtB,CAAiB,MACE,CACH,MAAMC,EAAiB7B,EAAe2B,EAAK,IAAI,EAC/ClB,EAAsBoB,EAAgBP,CAAgB,CACzD,CACb,CAAS,EACA,MAAMQ,GAAS,CACZF,EAAS,MAAM,CACX,QAASE,EAAM,QACf,SAAU,UAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXP,EAAoB,UAAU,OAAO,QAAQ,EAC7CH,EAAM,MAAQ,EAC1B,CAAS,CACT"}